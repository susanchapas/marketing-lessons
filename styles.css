/* Global styles and variables */
:root{
  --bg:#000000;
  --red:#FF0000;
  --white:#FFFFFF;
  --char:#2E2E2E;
  --max-width:1200px;
  --ease: cubic-bezier(.2,.9,.3,1);
}

/* Global neutralization of <strong> — visual emphasis removed site-wide */
strong{
  font-weight: inherit;
  font-family: inherit;
  font-style: inherit;
  text-transform: none;
}

/* Dark default */
html,body{height:100%;}
body{
  margin:0;
  background:var(--bg);
  color:var(--white);
  font-family:'Anonymous Pro', monospace;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.4;
}

.container{max-width:var(--max-width);margin:0 auto;padding:2rem;}

/* Header */
.header{position:fixed;top:0;left:0;right:0;z-index:40;transition:background 300ms var(--ease),box-shadow 300ms var(--ease);}
.header .header-inner{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.25rem;}
.header.transparent{background:transparent}
.header.solid{background:rgba(0,0,0,0.85);box-shadow:0 4px 18px rgba(0,0,0,0.6);backdrop-filter: blur(4px);}
.logo{font-family:'Bebas Neue',sans-serif;font-size:2.2rem;letter-spacing:2px;color:var(--white);text-decoration:none}
.primary-nav ul{list-style:none;margin:0;padding:0;display:flex;gap:1rem}
.primary-nav a{color:var(--white);text-decoration:none;padding:0.45rem 0.75rem;border-radius:4px;transition:background 180ms;font-weight:700;font-size:1.15rem}
.primary-nav a:focus,.primary-nav a:hover{background:rgba(255,255,255,0.06);outline:none}

/* Nav toggle (hamburger) for narrower screens */
.nav-toggle{display:none;background:transparent;border:0;color:var(--white);padding:0.25rem;border-radius:6px;z-index:80;-webkit-appearance:none;appearance:none}
.nav-toggle:focus{outline:3px solid rgba(255,0,0,0.12)}
.hamburger{display:inline-block;width:26px;height:18px;position:relative}
/* make the bars simple and robust: relative layout so they don't get clipped */
.hamburger span{position:relative;display:block;width:18px;height:2px;margin:3px auto;border-radius:2px;background:var(--white) !important;transition:transform 220ms var(--ease);will-change:transform,opacity}
.hamburger span:nth-child(1){top:0}
.hamburger span:nth-child(2){top:8px}
.hamburger span:nth-child(3){bottom:0}

/* Mobile nav drawer */
.primary-nav{transition:transform 260ms var(--ease);display:flex}

@media (max-width:900px){
  .nav-toggle{display:flex !important;align-items:center;justify-content:center;z-index:140;width:44px;height:44px;padding:6px}
  .primary-nav{position:fixed;top:64px;right:12px;background:linear-gradient(180deg,rgba(0,0,0,0.95),rgba(0,0,0,0.98));padding:0.75rem;border-radius:8px;box-shadow:0 18px 40px rgba(0,0,0,0.6);display:none}
  .primary-nav ul{display:flex;flex-direction:column;gap:0.35rem}
  .primary-nav[data-open="true"]{display:block}
  .primary-nav a{display:block;padding:0.6rem 0.9rem}
}

/* Scroll progress indicator */
#scroll-progress{position:fixed;left:0;top:0;height:3px;background:linear-gradient(90deg,var(--red),#ff6b6b);width:0;z-index:60}

/* HERO */
.hero{min-height:100vh;display:grid;place-items:center;position:relative;overflow:hidden;padding-top:4.5rem}
.hero-bg{position:absolute;inset:0;background:radial-gradient(ellipse at 20% 20%, rgba(255,0,0,0.08), transparent 10%),linear-gradient(180deg,rgba(255,0,0,0.06),transparent 40%),url('') center/cover no-repeat;mix-blend-mode:overlay;filter:contrast(1.05) saturate(1.1);opacity:0.9;transform:scale(1.02);}
.hero-inner{position:relative;text-align:center;z-index:20;padding:4rem 1rem}
.hero-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(2.2rem,8vw,6rem);line-height:0.9;letter-spacing:2px;margin:0;text-transform:uppercase}
.hero-sub{opacity:0.8;margin-top:1rem}
.btn{display:inline-block;margin-top:1.25rem;padding:0.8rem 1.25rem;border-radius:6px;border:2px solid rgba(255,255,255,0.08);color:var(--white);text-decoration:none}
.btn.ghost{background:transparent}
.btn.cta{background:var(--red);border-color:var(--red);color:var(--white);box-shadow:0 12px 36px rgba(255,0,0,0.12);font-weight:700}
.btn.cta:hover,.btn.cta:focus{transform:translateY(-4px);box-shadow:0 18px 44px rgba(255,0,0,0.18)}

/* Sections */
.section{padding:6rem 0}
.section--padded{padding-top:4rem;padding-bottom:4rem}
.dark{background:var(--bg);color:var(--white)}
.section--light{background:linear-gradient(180deg,rgba(46,46,46,0.8),rgba(0,0,0,0.9));}
.lede{max-width:70ch;opacity:0.9}

/* scroll snapping removed per user request */

/* Section headers: use Bebas Neue for bold, condensed headlines across sections
   except where explicitly overridden (see #application-title) */
.section h2, .section h3, .section h4 {
  font-family: 'Bebas Neue', sans-serif;
  letter-spacing: 1px;
}

/* Increase header sizes for legibility when using the condensed Bebas Neue face */
.section h2 { font-size: clamp(1.6rem, 2.8vw, 2.8rem); line-height:1; }
.section h3 { font-size: clamp(1.15rem, 2.0vw, 1.6rem); line-height:1.05; }
.section h4 { font-size: clamp(1rem, 1.6vw, 1.25rem); line-height:1.1; }

/* Keep the 'Application to Our Business Category' header on the body/monospace font */
#application-title {
  font-family: 'Anonymous Pro', monospace;
  letter-spacing: normal;
}

/* Make the application section title smaller and more in-scale with body copy */
#application-title{
  font-size: clamp(1.1rem, 1.6vw, 1.4rem);
  line-height:1.15;
}

/* Traits */
.traits{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem;margin-top:2rem;padding:0;list-style:none}
/* Trait cards: always show the description (no hover needed). Use a two-column grid so icon and content align.
  Keep a small vertical gap between the title and the description for legibility. */
.trait{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:1.25rem;border-radius:8px;transition:transform 220ms var(--ease),box-shadow 220ms;min-height:92px;border:1px solid rgba(255,0,0,0.10);display:grid;grid-template-columns:28px 1fr;gap:0.75rem;align-items:start}
.trait svg{grid-column:1;grid-row:1 / span 2;align-self:start}
.trait strong{display:block;font-family:inherit;font-size:1rem;line-height:1.15;text-transform:none;font-weight:700;margin:0;grid-column:2;grid-row:1}
/* Make description part of the normal flow and force it under the title */
.trait .desc{position:static;grid-column:2;grid-row:2;display:block;opacity:1;visibility:visible;margin:0;margin-top:0.5rem;font-size:0.95rem;line-height:1.3}
.trait:focus,.trait:hover{transform:translateY(-4px);box-shadow:0 18px 48px rgba(200,0,0,0.18), 0 6px 26px rgba(0,0,0,0.6);border:1px solid rgba(255,0,0,0.12)}

/* Descriptions are always visible now — hover rules intentionally not needed. */

/* Make traits clearly interactive on touch devices */
.trait{cursor:pointer}

/* Trait icons and layout */
.trait-icon{width:28px;height:28px;flex:0 0 28px;fill:var(--red);opacity:0.95}
/* Ensure diamond icons use the brand red and are centered */
.trait-icon{fill:var(--red);width:22px;height:22px}
.trait svg{display:block}

/* Definition & Core Traits: make cards red (scoped to #definition only) */
#definition .trait{
  background:linear-gradient(180deg, rgba(255,0,0,0.10), rgba(255,0,0,0.04));
  border:1px solid rgba(255,0,0,0.18);
}
#definition .trait-icon{fill:var(--red);} 
#definition .trait-icon, #definition .trait svg, #definition .trait use {
  /* ensure icons referenced via <use> or currentColor render red */
  fill: var(--red) !important;
  color: var(--red) !important;
}

/* Implementation panel icons (placeholders): larger, subtle drop-shadow, and hover animation */
.panel.image svg.impl-icon{width:120px;height:120px;display:block;margin:0 auto;filter:drop-shadow(0 8px 18px rgba(0,0,0,0.6));transition:transform 220ms var(--ease),filter 220ms var(--ease),opacity 180ms}
.panel.image svg.impl-icon path{fill:var(--red)}
.panel.image:hover svg.impl-icon,
.panel.image:focus-within svg.impl-icon{transform:translateY(-6px) scale(1.06);filter:drop-shadow(0 12px 28px rgba(0,0,0,0.65))}
#definition .trait .desc{color:rgba(255,255,255,0.95);}
/* Archetype detail panels: keep inline styles (do not override) */

/* HERO MEDIA styles (video background) */
.hero-media{position:absolute;inset:0;z-index:0;overflow:hidden}
.hero-video{width:100%;height:100%;object-fit:cover;opacity:0;transform:scale(1.03);transition:opacity .6s var(--ease),transform .6s var(--ease)}
.hero-video.play-visible{opacity:1;transform:scale(1)}
.hero-video.play-hidden{opacity:0;transform:scale(1.02)}
.hero-bg{position:absolute;inset:0;background:radial-gradient(ellipse at 20% 20%, rgba(255,0,0,0.06), transparent 12%),linear-gradient(180deg,rgba(0,0,0,0.25),rgba(0,0,0,0.6));mix-blend-mode:multiply;filter:contrast(1.05) saturate(1.05);opacity:1;transform:scale(1.02);}

/* Social icon links */
.social-link{display:inline-flex;align-items:center;gap:0.5rem;padding:0.2rem 0.5rem;border-radius:4px}
.social-link svg{width:18px;height:18px;fill:var(--white);opacity:0.95}

/* Footer social links: turn brand red on hover/focus for both text and icon */
.footer-socials .social-link{transition:color 180ms var(--ease),transform 140ms,var(--ease);color:var(--white)}
.footer-socials .social-link svg{transition:fill 180ms var(--ease),opacity 140ms var(--ease)}
.footer-socials .social-link:hover,
.footer-socials .social-link:focus{
  color:var(--red);
  transform:translateY(-2px);
}
.footer-socials .social-link:hover svg,
.footer-socials .social-link:focus svg{
  fill:var(--red);
  opacity:1;
}

/* Footer socials placement: center the social links above copyright */
.footer-socials{display:flex;justify-content:center;gap:1rem;padding-top:0.5rem;padding-bottom:0.5rem}
.footer-socials .social-link{display:inline-flex;align-items:center;gap:0.5rem;padding:0.25rem 0.6rem}
.footer .copyright{margin-top:0.25rem}

@media (max-width:800px){
  /* Add spacing to prevent tooltip overlap and improve mobile rhythm */
  .section{padding:4rem 0}
  .swatch{height:84px}
}

/* Identity grid */
.identity-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;align-items:start}

/* Make color swatches full-width (span the identity grid) and lay out as a single responsive row */
.swatches{
  display:flex;
  flex-wrap:wrap; /* allow wrapping when needed, but keep one row on wide screens by sizing items */
  gap:1rem;
  width:100%;
  grid-column:1 / -1; /* span both columns of the parent identity grid */
  align-items:stretch;
}

.swatch{height:90px;border-radius:8px;padding:0.75rem;color:var(--white);display:flex;flex-direction:column;justify-content:flex-end;position:relative;background:var(--swatch-bg,transparent);flex:0 0 calc(25% - 0.75rem);min-width:140px;box-sizing:border-box}

/* Ensure the typography block sits under the color swatches and spans full width */
.swatches .typography-style{flex:0 0 100%;width:100%;order:99;margin-top:0.75rem;color:var(--muted);} 
.swatch .tooltip{position:absolute;left:50%;transform:translate(-50%,6px);bottom:calc(100% + 0.5rem);padding:0.5rem 0.6rem;background:rgba(0,0,0,0.92);font-size:0.85rem;border-radius:6px;opacity:0;transition:opacity 180ms,transform 180ms;pointer-events:none;z-index:60;white-space:nowrap}
.swatch:focus .tooltip,.swatch:hover .tooltip{opacity:1;transform:translate(-50%,0);pointer-events:auto}

/* Visual Identity swatch tooltips: white background with black text for legibility */
#visual-identity .swatch .tooltip{
  background: #ffffff;
  color: #000000;
  box-shadow: 0 8px 20px rgba(0,0,0,0.12);
  border: 1px solid rgba(0,0,0,0.85);
}

/* Make the copy button visible on the white swatch: grey background with charcoal text */
#visual-identity .swatch.light .copy-hex{
  background:#e6e6e6;
  color:#2E2E2E; /* charcoal text for visibility */
  border:1px solid rgba(0,0,0,0.12);
}
#visual-identity .swatch.light .copy-hex:focus{
  outline:3px solid rgba(0,0,0,0.14);
}
/* Swatch focus and copy UI */
.swatch:focus{outline:3px solid rgba(255,0,0,0.12);outline-offset:4px}
.swatch .swatch-hex{display:flex;gap:0.5rem;align-items:center;font-family:monospace}
.copy-hex{background:transparent;border:1px solid rgba(255,255,255,0.08);color:var(--white);padding:0.18rem 0.45rem;border-radius:6px;font-size:0.85rem;cursor:pointer}
.copy-hex:focus{outline:3px solid rgba(255,0,0,0.14)}

/* Make image-card overlay text visible on hover or keyboard focus */
.image-card .card-overlay{transform:translateY(100%);opacity:0}
.image-card:hover .card-overlay,.image-card:focus-within .card-overlay,.image-card:focus .card-overlay{transform:translateY(0%);opacity:1}

/* If the swatch is near the top or on very small screens, show tooltip below instead */
@media (max-width:420px){
  .swatch .tooltip{bottom:auto;top:calc(100% + 0.35rem);transform:translate(-50%,-6px)}
  .swatch:focus .tooltip,.swatch:hover .tooltip{transform:translate(-50%,0)}
}

/* White swatch tooltip legibility */
.swatch.light .tooltip{color:var(--white)}

.fonts{display:flex;flex-direction:column;gap:0.5rem}
.font-header{font-family:'Bebas Neue',sans-serif;letter-spacing:1px}
.sample{font-size:1.1rem}
.monospace .sample{font-family:'Anonymous Pro',monospace}

.imagery{display:grid;grid-template-columns:1fr 1fr;gap:0.5rem}
.img{background:linear-gradient(180deg,rgba(255,0,0,0.03),rgba(255,255,255,0.02));height:120px;border-radius:6px;display:flex;align-items:center;justify-content:center}

/* Typical imagery placed under the color palette (left column) and responsive */
.typical-imagery{grid-column:1 / -1;text-align:left}
.typical-imagery .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:0.75rem;margin-top:0.6rem}
.typical-imagery .card{padding:0.9rem}

@media (max-width:800px){
  .typical-imagery{grid-column:1 / -1}
  .typical-imagery .cards{grid-template-columns:1fr}
}

/* Responsive: two swatches per row on medium screens */
@media (max-width:1100px){
  .swatches{flex-wrap:wrap}
  .swatch{flex:0 0 calc(50% - 0.75rem)}
}

/* On narrow screens show one swatch per row */
@media (max-width:480px){
  .swatches{flex-wrap:wrap}
  .swatch{flex:0 0 100%;min-width:0;height:84px}
}

/* Thin ticker marquee (NYSE-like) - chromatic aberration layers */
.ticker-marquee{position:relative;width:100vw;left:50%;margin-left:-50vw;overflow:hidden;margin-top:1.25rem;padding-top:0.6rem;height:2.2rem;background:rgba(255,255,255,0.03)}
.ticker-layer{position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none;overflow:hidden}
.ticker-track{display:flex;align-items:center;height:100%;gap:1rem;padding-left:0}
.tick-item{display:inline-flex;align-items:center;justify-content:center;min-width:32px}
.tick-icon{width:14px;height:14px;fill:#ffffff;opacity:0.95}

.ticker-layer.layer-r .ticker-track{animation:tick-scroll 12s linear infinite}
.ticker-layer.layer-g .ticker-track{animation:tick-scroll 14s linear infinite}
.ticker-layer.layer-b .ticker-track{animation:tick-scroll 16s linear infinite}

.ticker-layer.layer-r{color:transparent;filter:none}
.ticker-layer.layer-g{color:transparent;filter:none}
.ticker-layer.layer-b{color:transparent;filter:none}

/* Ensure ticker icons always render white regardless of parent layer color */
.ticker-track svg, .tick-item svg, .tick-item use{fill:#ffffff !important; color:transparent !important}

@keyframes tick-scroll{from{transform:translateX(0)}to{transform:translateX(-50%)}}

@media (prefers-reduced-motion: reduce){
  .ticker-layer .ticker-track{animation-play-state:paused!important;transform:none!important}
}

/* Full-bleed marquee with chromatic aberration effect */
.marquee{position:relative;width:100%;overflow:hidden;margin-top:1rem;padding:0.75rem 0;margin-left:calc(-50vw + 50%);margin-right:calc(-50vw + 50%);}
.marquee-layer{position:absolute;left:0;right:0;top:0;bottom:0;overflow:hidden;pointer-events:none}
.marquee-track{display:flex;gap:2rem;align-items:center;height:56px;padding-left:2rem}
.marq-item{display:flex;align-items:center;justify-content:center;min-width:56px}
.marq-item .icon{width:36px;height:36px;fill:currentColor;color:var(--white);opacity:0.95}

/* animate tracks at slightly different speeds & offsets */
.marquee-layer.layer-r .marquee-track{animation:marq-scroll 18s linear infinite}
.marquee-layer.layer-g .marquee-track{animation:marq-scroll 20s linear infinite}
.marquee-layer.layer-b .marquee-track{animation:marq-scroll 22s linear infinite}

.marquee-layer.layer-r .marq-item .icon{color:#ff4d4d;filter:drop-shadow(0 0 8px rgba(255,0,0,0.28))}
.marquee-layer.layer-g .marq-item .icon{color:#33ff88;filter:drop-shadow(0 0 8px rgba(0,255,128,0.16))}
.marquee-layer.layer-b .marq-item .icon{color:#66ccff;filter:drop-shadow(0 0 8px rgba(0,128,255,0.16))}

@keyframes marq-scroll{
  0%{transform:translateX(0)}
  100%{transform:translateX(-50%)}
}

@media (prefers-reduced-motion: reduce){
  .marquee-layer .marquee-track{animation-play-state:paused!important;transform:none!important}
}

/* Split voice */
.split{display:grid;grid-template-columns:1fr 1fr;gap:2rem;align-items:center}
.slogan-rotator{font-family:'Bebas Neue',sans-serif;font-size:2.2rem;display:block;position:relative;height:3rem;overflow:hidden}
.slogan-rotator .slogan{display:block;position:absolute;left:0;right:0;top:0;transform:translateY(100%);opacity:0;transition:transform 420ms var(--ease),opacity 420ms}
.slogan-rotator .slogan.active{transform:translateY(0);opacity:1}

/* Slogan rotator: use brand red for all words for cohesive identity */
.slogan-rotator .slogan{color:var(--red);text-shadow:0 0 8px rgba(255,0,0,0.45);}

/* Cards */
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;margin-top:1.5rem}
.card{background:var(--char);padding:1rem;border-radius:8px;transition:transform 260ms var(--ease),box-shadow 260ms,opacity 200ms;transform-origin:center bottom}
.card.pop-in{transform:translateY(-8px) scale(1.02);box-shadow:0 18px 40px rgba(0,0,0,0.6);opacity:1}
.card:focus,.card:hover{transform:translateY(-12px) scale(1.02);box-shadow:0 20px 50px rgba(0,0,0,0.7);outline:3px solid rgba(255,0,0,0.08)}
.card img{width:100%;height:80px;background:rgba(255,255,255,0.03);object-fit:contain;border-radius:4px}

/* Image-card variant: background image with overlay that reveals on hover/focus */
.image-card{background-size:cover;background-position:center;position:relative;padding:0;min-height:220px;overflow:hidden;border-radius:8px}
.image-card .card-overlay{position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(180,0,0,0.92);color:var(--white);padding:1rem;transform:translateY(100%);transition:transform .34s cubic-bezier(.2,.9,.2,1),opacity .2s}
.image-card:hover .card-overlay,.image-card:focus-within .card-overlay,.image-card:focus .card-overlay{transform:translateY(0%);opacity:1}
.image-card a{color:var(--white);font-weight:700;text-decoration:underline}
.image-card:focus{outline:3px solid rgba(255,0,0,0.14);outline-offset:3px}

/* Parallax section */
.parallax{position:relative;color:var(--white);overflow:hidden;padding:8rem 0}
.parallax-bg{position:absolute;inset:0;background-image:linear-gradient(120deg,rgba(0,0,0,0.65),rgba(46,46,46,0.6)),url('');background-size:cover;background-position:center;z-index:0;transform:translateZ(0)}
.parallax .container{position:relative;z-index:10}
.large{font-family:'Bebas Neue',sans-serif;font-size:clamp(2rem,4vw,3rem);line-height:1}

/* Panels */
.panels{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem}
.panel{background:linear-gradient(180deg,rgba(255,0,0,0.02),rgba(255,255,255,0.01));padding:1.25rem;border-radius:8px}
.panel.image{display:flex;align-items:center;justify-content:center;height:140px}

/* Implementation content styles */
.implementation-content{background:linear-gradient(180deg,rgba(0,0,0,0.35),rgba(255,255,255,0.02));padding:1.25rem;margin-top:1rem;border-radius:8px}
.impl-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;align-items:start}
.impl-col h4{font-family:inherit;margin:0 0 .5rem 0;font-weight:700;text-transform:none}

/* Hero-style callouts */
.impl-callouts{display:flex;flex-direction:column;gap:0.9rem}
.impl-callout{background:linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.45));padding:1rem;border-radius:8px;border:1px solid rgba(215,38,61,0.12)}
.impl-callout:before{content:'';display:block;height:6px;background:var(--red);border-radius:4px;margin:-0.75rem -0.75rem 0.5rem -0.75rem}
.impl-callout .variant{display:none;color:var(--white);font-size:1.12rem;padding:0 0.25rem}
.impl-callout .variant[data-variant="A"]{font-family:inherit;font-size:1.15rem;font-weight:700;text-transform:none}
.impl-callout.active .variant[data-variant="A"],
.impl-callout.active .variant[data-variant="B"]{display:block}

/* Variant controls */
.impl-variant-controls{display:flex;gap:0.5rem;align-items:center;margin-bottom:0.75rem}
.impl-variant-btn{background:transparent;border:1px solid rgba(255,255,255,0.08);color:var(--white);padding:0.25rem 0.55rem;border-radius:6px}
.impl-variant-btn[aria-pressed="true"]{background:var(--red);border-color:var(--red);box-shadow:0 6px 18px rgba(215,38,61,0.12)}

/* make callouts responsive */
@media (max-width:800px){
  .impl-grid{grid-template-columns:1fr}
}

/* Ensure any <strong> inside the implementation section is visually neutral */
#implementation strong, .implementation-content strong{
  font-weight: inherit !important;
  font-family: inherit !important;
  text-transform: none !important;
  font-style: inherit !important;
  color: inherit !important;
}

@media (max-width:800px){
  .impl-grid{grid-template-columns:1fr}
}

/* Footer */
.footer{padding:2rem 0;background:linear-gradient(180deg,rgba(0,0,0,0.9),rgba(14,14,14,1));color:var(--white);}
.footer-inner{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}
.footer a{color:var(--white);opacity:0.95}
.copyright{padding:1rem 2rem 2rem;text-align:center;opacity:0.7}

/* Research sources dropdown in footer (centered above socials) */
.sources-dropdown{position:relative}
.sources-btn{background:transparent;border:1px solid rgba(255,255,255,0.08);color:var(--white);padding:0.5rem 0.9rem;border-radius:8px}
.sources-btn:focus{outline:3px solid rgba(255,0,0,0.12)}
.sources-list{position:absolute;left:50%;transform:translateX(-50%);bottom:calc(100% + 8px);background:rgba(0,0,0,0.95);border-radius:6px;padding:0.25rem 0;list-style:none;margin:0;min-width:260px;box-shadow:0 12px 40px rgba(0,0,0,0.6);display:none;z-index:120}
.sources-list li{padding:0;border-top:1px solid rgba(255,255,255,0.03)}
.sources-list li:first-child{border-top:0}
.sources-list a{color:var(--white);text-decoration:none;display:block;padding:0.6rem 0.9rem;border-radius:6px;margin:0.25rem 0;background:rgba(255,255,255,0.02);transition:background .18s,transform .12s,color .12s}
.sources-list a:focus{outline:3px solid rgba(255,0,0,0.12);transform:translateY(-1px)}
.sources-list a:hover{background:rgba(255,255,255,0.04);transform:translateY(-1px);color:var(--red)}
.sources-dropdown.open .sources-list{display:block}

/* Mobile: make dropdown behave like a stacked accordion under the button */
@media (max-width:480px){
  .sources-list{position:static;transform:none;bottom:auto;left:auto;min-width:100%;box-shadow:none;border-radius:6px;margin-top:0.5rem;padding:0;background:rgba(0,0,0,0.96)}
  .sources-list li{padding:0;border-top:1px solid rgba(255,255,255,0.04)}
  .sources-list a{padding:0.85rem 1rem}
  /* When accordion behavior is active we show rows as independent blocks */
  .sources-dropdown.accordion .sources-list li{max-height:none;overflow:visible}
}

/* Reveal animation utilities */
.reveal{opacity:0;transform:translateY(12px) skewY(-1deg);transition:opacity 560ms var(--ease),transform 560ms var(--ease)}
.reveal.visible{opacity:1;transform:none}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  *{transition:none!important;animation:none!important}
}

/* Responsive */
@media (max-width:800px){
  .identity-grid{grid-template-columns:1fr}
  .split{grid-template-columns:1fr}
  .header .header-inner{padding:0.6rem 0.8rem}
  .footer-inner{flex-direction:column}
}

/* Mobile nav: allow wrapping so links don't get cut off */
@media (max-width:600px){
  .primary-nav ul{flex-wrap:wrap;gap:0.5rem}
  .primary-nav{margin-top:0.2rem}
  .primary-nav a{font-size:0.95rem;padding:0.3rem 0.5rem}
}

/* Slightly reduce header logo size on very small devices so it doesn't compete with nav */
@media (max-width:420px){
  .logo{font-size:1.2rem}
}

/* Ensure trait text can wrap cleanly on narrow viewports */
@media (max-width:420px){
  .trait strong{font-size:0.98rem}
  .trait .desc{font-size:0.9rem}
}

/* Utility: screen reader only */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* Focus outline fallback */
a:focus{outline:3px solid rgba(255,0,0,0.14);outline-offset:2px}

/* Small helpers */
.muted{opacity:0.65}
